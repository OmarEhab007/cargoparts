# ========================================
# CARGO PARTS - ENVIRONMENT VARIABLES
# ========================================
# Copy this file to .env and fill in your actual values
# Never commit sensitive data to the repository

# ========================================
# APPLICATION CONFIGURATION
# ========================================
NEXT_PUBLIC_APP_URL="http://localhost:3000"
NEXT_PUBLIC_APP_NAME="Cargo Parts"
NEXT_PUBLIC_APP_DESCRIPTION="KSA Auto Parts Marketplace"
DEFAULT_LOCALE="ar"
SUPPORTED_LOCALES="ar,en"

# ========================================
# DATABASE CONFIGURATION
# ========================================
# PostgreSQL Connection URL
# Format: postgresql://username:password@host:port/database
DATABASE_URL="postgresql://username:password@localhost:5432/cargoparts"

# Optional: Prisma connection pool settings
DATABASE_POOL_SIZE="10"
DATABASE_TIMEOUT="20000"

# ========================================
# AUTHENTICATION & SECURITY
# ========================================
# JWT Secret - Use a strong random string (minimum 32 characters)
JWT_SECRET="your-super-secure-jwt-secret-key-here-minimum-32-chars"

# NextAuth.js Secret - Use a different strong random string
NEXTAUTH_SECRET="your-super-secure-nextauth-secret-key-here"

# Session Configuration
SESSION_TIMEOUT="86400"  # 24 hours in seconds
SESSION_REFRESH_THRESHOLD="3600"  # 1 hour in seconds

# OTP Configuration
OTP_EXPIRY_MINUTES="5"
OTP_MAX_ATTEMPTS="3"
OTP_RATE_LIMIT_PER_HOUR="5"

# ========================================
# PAYMENT GATEWAYS
# ========================================

# Tap Payments (Saudi Arabia)
TAP_SECRET_KEY="sk_test_your_tap_secret_key_here"
TAP_PUBLIC_KEY="pk_test_your_tap_public_key_here"
TAP_WEBHOOK_SECRET="your_tap_webhook_secret_here"

# HyperPay (OPPWA)
HYPERPAY_USER_ID="your_hyperpay_user_id"
HYPERPAY_PASSWORD="your_hyperpay_password"
HYPERPAY_ENTITY_ID="your_hyperpay_entity_id"
HYPERPAY_ACCESS_TOKEN="your_hyperpay_access_token"
HYPERPAY_WEBHOOK_SECRET="your_hyperpay_webhook_secret"

# MADA Support
MADA_ENABLED="true"

# ========================================
# FILE STORAGE & UPLOAD
# ========================================

# Supabase Storage
SUPABASE_URL="https://your-project.supabase.co"
SUPABASE_ANON_KEY="your_supabase_anon_key_here"
SUPABASE_SERVICE_KEY="your_supabase_service_key_here"
SUPABASE_BUCKET_NAME="cargoparts-uploads"

# Alternative: AWS S3
# AWS_ACCESS_KEY_ID="your_aws_access_key"
# AWS_SECRET_ACCESS_KEY="your_aws_secret_key"
# AWS_REGION="us-east-1"
# AWS_S3_BUCKET="cargoparts-uploads"

# Upload Configuration
MAX_FILE_SIZE="10485760"  # 10MB in bytes
ALLOWED_IMAGE_TYPES="image/jpeg,image/png,image/webp"
ALLOWED_DOCUMENT_TYPES="application/pdf"

# ========================================
# EMAIL CONFIGURATION
# ========================================

# SMTP Settings
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_SECURE="false"  # true for 465, false for other ports
SMTP_USER="your-email@gmail.com"
SMTP_PASS="your-app-specific-password"

# Email Sender Information
EMAIL_FROM="noreply@cargoparts.sa"
EMAIL_FROM_NAME="Cargo Parts"

# Alternative: SendGrid
# SENDGRID_API_KEY="your_sendgrid_api_key"
# SENDGRID_FROM_EMAIL="noreply@cargoparts.sa"

# ========================================
# SMS CONFIGURATION
# ========================================

# Unifonic (Saudi-specific SMS provider)
UNIFONIC_APP_SID="your_unifonic_app_sid"
UNIFONIC_SENDER_ID="CargoParts"  # Must be approved by Unifonic

# Alternative: Twilio
# TWILIO_ACCOUNT_SID="your_twilio_account_sid"
# TWILIO_AUTH_TOKEN="your_twilio_auth_token"
# TWILIO_PHONE_NUMBER="+1234567890"

# SMS Configuration
SMS_PROVIDER="unifonic"  # unifonic, twilio
SMS_RATE_LIMIT_PER_HOUR="10"

# ========================================
# PUSH NOTIFICATIONS
# ========================================

# Firebase Cloud Messaging
FCM_PROJECT_ID="your-firebase-project-id"
FCM_PRIVATE_KEY="your-firebase-private-key"
FCM_CLIENT_EMAIL="firebase-adminsdk@your-project.iam.gserviceaccount.com"

# Apple Push Notifications (for iOS)
APNS_KEY_ID="your_apns_key_id"
APNS_TEAM_ID="your_apple_team_id"
APNS_PRIVATE_KEY="your_apns_private_key"

# ========================================
# REDIS CACHE (OPTIONAL)
# ========================================
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=""
REDIS_DB="0"

# Cache Configuration
CACHE_TTL_DEFAULT="3600"  # 1 hour
CACHE_TTL_LISTINGS="900"  # 15 minutes
CACHE_TTL_USER_SESSIONS="86400"  # 24 hours

# ========================================
# ANALYTICS & MONITORING
# ========================================

# Google Analytics
NEXT_PUBLIC_GA_MEASUREMENT_ID="G-XXXXXXXXXX"

# Sentry Error Tracking
SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"
SENTRY_ORG="your-org"
SENTRY_PROJECT="cargoparts"

# Performance Monitoring
APM_ENABLED="false"
APM_SERVICE_NAME="cargoparts-api"

# ========================================
# EXTERNAL APIS
# ========================================

# Google Maps (for geocoding and maps)
GOOGLE_MAPS_API_KEY="your_google_maps_api_key"

# Vehicle Data API (for VIN decoding)
VIN_API_KEY="your_vin_decoder_api_key"

# Exchange Rate API (for currency conversion)
EXCHANGE_RATE_API_KEY="your_exchange_rate_api_key"

# ========================================
# DEVELOPMENT & TESTING
# ========================================

# Development Mode
NODE_ENV="development"  # development, production, test

# Debug Configuration
DEBUG="cargoparts:*"
LOG_LEVEL="debug"  # error, warn, info, debug

# Testing Database (optional)
TEST_DATABASE_URL="postgresql://username:password@localhost:5432/cargoparts_test"

# Feature Flags
FEATURE_VIN_DECODE="true"
FEATURE_REAL_TIME_CHAT="false"
FEATURE_ADVANCED_ANALYTICS="true"

# ========================================
# BUSINESS CONFIGURATION
# ========================================

# Saudi Arabia Specific
DEFAULT_CURRENCY="SAR"
DEFAULT_COUNTRY="SA"
DEFAULT_TIMEZONE="Asia/Riyadh"
VAT_RATE="0.15"  # 15% VAT in Saudi Arabia

# Business Rules
MIN_ORDER_AMOUNT="50"  # 50 SAR minimum order
FREE_SHIPPING_THRESHOLD="500"  # Free shipping over 500 SAR
DEFAULT_SHIPPING_COST="25"  # 25 SAR default shipping

# Seller Configuration
SELLER_COMMISSION_RATE="0.05"  # 5% commission
SELLER_PAYOUT_THRESHOLD="100"  # Minimum 100 SAR for payout
SELLER_VERIFICATION_REQUIRED="true"

# ========================================
# RATE LIMITING
# ========================================
RATE_LIMIT_WINDOW_MS="900000"  # 15 minutes
RATE_LIMIT_MAX_REQUESTS="100"  # 100 requests per window
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS="false"

# API Specific Rate Limits
RATE_LIMIT_AUTH_MAX="5"  # 5 auth attempts per window
RATE_LIMIT_SEARCH_MAX="60"  # 60 search requests per window
RATE_LIMIT_ORDER_MAX="10"  # 10 orders per window

# ========================================
# WEBHOOKS & INTEGRATIONS
# ========================================

# Webhook URLs (for external services to call)
WEBHOOK_BASE_URL="https://yourdomain.com"
WEBHOOK_SECRET="your-webhook-secret-for-verification"

# Integration Timeouts
API_TIMEOUT="30000"  # 30 seconds
WEBHOOK_TIMEOUT="10000"  # 10 seconds

# ========================================
# MISC CONFIGURATION
# ========================================

# Time Zone
TZ="Asia/Riyadh"

# Locale Configuration
LC_ALL="ar_SA.UTF-8"
LANG="ar_SA.UTF-8"

# Contact Information
SUPPORT_EMAIL="support@cargoparts.sa"
SUPPORT_PHONE="+966501234567"